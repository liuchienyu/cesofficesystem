{% extends "./base/base.html" %}
{% block body %}
<!-- Begin Page Content -->
<div class="container-fluid text-center">

    <!-- Page Heading -->
    <p class="h1 mb-3 text-gray-800">打卡系統</p>
    <h1 class="mb-3 text-gray-800">{{time_base}}</h1>
    <!-- Date -->
    <span class="h1 text-gray-800" id="Date"></span>
    <h1 class="mb-3 text-gray-800">現在應值班人員：{{time_base2}}</h1>
    <!-- Content Row -->
    <div class="row mt-3">

        <!-- First Column -->
        <div class="col-sm-6 mx-auto">

            <!-- Time -->
            <div class="card shadow mb-5 text-gray-800">
                <span class="h1" id="Time">
                    <script language="JavaScript">
                        function ShowTime() {
                            var NowDate = new Date();
                            var yy = NowDate.getFullYear() - 1911;
                            var mm = NowDate.getMonth() + 1;
                            var dd = NowDate.getDate();
                            var h = NowDate.getHours();
                            var m = NowDate.getMinutes();
                            var s = NowDate.getSeconds();
                            if (mm < 10 && dd < 10) {
                                document.getElementById("Date").innerHTML ="民國" + yy + "年0" + mm + "月0" + dd + "日";
                            } else if (mm < 10 && dd >= 10) {
                                document.getElementById("Date").innerHTML ="民國" + yy + "年0" + mm + "月" + dd + "日";
                            } else if (mm >= 10 && dd < 10) {
                                document.getElementById("Date").innerHTML ="民國" + yy + "年" + mm + "月0" + dd + "日";
                            } else {
                                document.getElementById("Date").innerHTML ="民國" + yy + "年" + mm + "月" + dd + "日";
                            }
                            //先判斷分和秒是否為個位數，是的話+0
                            var t = document.getElementById("showbox");
                            if (m < 10 && s < 10) {
                                t.innerHTML = h + "：0" + m + "：0" + s;
                            } else if (m < 10 && s >= 10) {
                                t.innerHTML = h + "：0" + m + "：" + s;
                            } else if (m >= 10 && s < 10) {
                                t.innerHTML = h + "：" + m + "：0" + s;
                            } else {
                                t.innerHTML = h + "：" + m + "：" + s;
                            }
                            //暫存結果
                            var tt = t.innerHTML;
                            //最後判斷小時是否為個位數，是的話將剛剛暫存的結果之最前方補一個0
                            if (h < 10) {
                                t.innerHTML = "0" + tt;
                            }

                            setTimeout('ShowTime()', 1000);
                        }
                    </script>

                    <body onload="ShowTime()">
                        <div id="showbox"></div>
                    </body>
                </span>
            </div>

        </div>

    </div>

    <div class="row mb-3">
        <div class="col-md-3"> </div>
        <div class="col-7 col-md-3 mb-3 mx-auto">
            <a class="btn btn-lg btn-outline-info w-100" href = "go_to_work">上班/簽到</a>
        </div>
        <div class="col-7 col-md-3 mx-auto">
            <a class="btn btn-lg btn-outline-info w-100" href = 'out_to_work'>下班/簽退</a>
        </div>
        <div class="col-md-3"> </div>
    </div>

    <div class="row mb-5">
        <div class="col-md-3"> </div>
        <div class="col-7 col-md-3 mb-3 mx-auto">
            <button class="btn btn-lg btn-outline-info w-100">請假</button>
        </div>
        <div class="col-7 col-md-3 mx-auto">
            <button class="btn btn-lg btn-outline-info w-100">考勤異動申請</button>
        </div>
        <div class="col-md-3"> </div>
    </div>
{% endblock %}